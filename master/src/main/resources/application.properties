# -------------------------------
# Datos de la aplicación
# -------------------------------
spring.application.name=master
server.port=${SERVER_PORT:8761}

# -------------------------------
# Actuator
# -------------------------------
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.server.port=${MANAGEMENT_PORT:9001}

# -------------------------------
# Eureka Server
# -------------------------------
# Hostname para construir la URL
eureka.instance.hostname=${EUREKA_INSTANCE_HOSTNAME:localhost}

# No registrarse a sí mismo ni consultar otros registries
eureka.client.register-with-eureka=${EUREKA_REGISTER_WITH_EUREKA:false}
eureka.client.fetch-registry=${EUREKA_FETCH_REGISTRY:false}

# URL de acceso desde clientes
eureka.client.service-url.defaultZone=${EUREKA_SERVICE_URL_DEFAULTZONE:http://${EUREKA_INSTANCE_HOSTNAME:localhost}:${SERVER_PORT:8761}/eureka}

# Habilita la exposición de Actuator en la consola de Eureka (Spring Cloud Netflix)
eureka.actuator.enabled=true

# Para que, si quisiera, clientes lean el puerto de management de Eureka
eureka.instance.metadataMap.management.port=${management.server.port:9001}

# -------------------------------
# RabbitMQ (si lo usa el server)
# -------------------------------
spring.rabbitmq.host=${SPRING_RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${SPRING_RABBITMQ_PORT:5672}
spring.rabbitmq.username=${SPRING_RABBITMQ_USERNAME:user}
spring.rabbitmq.password=${SPRING_RABBITMQ_PASSWORD:password}

# -------------------------------
# Multipart (opcional)
# -------------------------------
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# -------------------------------
# Feign (opcional)
# -------------------------------
feign.hystrix.enabled=true
feign.client.config.default.connectTimeout=${FEIGN_CONNECT_TIMEOUT:5000}
feign.client.config.default.readTimeout=${FEIGN_READ_TIMEOUT:30000}